<%@taglib prefix="s" uri="/struts-tags" %>


<script type="text/javascript">
var currFoto=0;
function next(){
	if (currFoto<listafoto.length){
		currFoto++;
		document.getElementById('foto').src = listafoto[currFoto];
		}else{
		alert('fine');
			}
} 
function previous(){
	if (currFoto>0){
		currFoto=currFoto-1;
		document.getElementById('foto').src = listafoto[currFoto];
		}else{
		alert('inizio');
			}
}

var listafoto = new Array();
<s:iterator var="f" value="files" status="i">
listafoto[<s:property value="#i.count"/>]= '<s:property value="#f"/>';
</s:iterator>
</script>


<s:set var="counter" value="0"/>
<s:set var="dimRiga" value="%{dimensioneRiga}"/>
<div id="mainblock" style="position:absolute;top:10px" >
<p>
<a href="showAlbum?tipo=single&oid=<s:property value="oid" />" >Scorri le foto singolarmente</a>
</p>
<table>
<tr><td><table><tr>
<s:iterator var="f" value="fotoList" status="i">
<s:if test="%{#counter>=#dimRiga}">
</tr></table></td></tr>
<s:set var="counter" value="0"/>
<tr><td><table><tr>
</s:if>
<td>
<a href="showImage?file=<s:property value="file"/>" target="_blank" ><img src="showImage?file=<s:property value="file"/>" width="<s:property value="iconwidth"/>" height="<s:property value="iconheight"/>"/></a>
</td>
<s:set var="counter" value="%{#counter+1}" />
</s:iterator>
</tr></table></td></tr>
</table>


</div>
