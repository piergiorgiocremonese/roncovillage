package test.it.crem;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.text.DecimalFormat;
import java.text.DecimalFormatSymbols;
import java.util.ArrayList;






import org.apache.xerces.impl.dv.util.Base64;

import it.crem.db.conf.Allegati;
import it.crem.db.mng.DbMng;

public class Main {
	
	public static void main(String[] args){
		try{
			/*
			byte[] bytes = null;
			String fnew = "/home/netlab/Immagini/tennis-match.jpg";
			if (args.length>0){
				//fn=args[0];
			}
			File file = new File(fnew);
			long dim = file.length();
			int len =(int)dim;
			//FileOutputStream fis = new FileOutputStream(file);
			FileInputStream fis = new FileInputStream(file);
			
			int c;
			
			DbMng db = new DbMng();
			Allegati a = new Allegati();
			//bytes = a.getImage();
			//fis.write(bytes);
			//while (fis.r)
			//ArrayList<Byte> bs = new ArrayList<Byte>();
			//Allegati a = (Allegati) db.getObject(4, "Allegati");
			
			bytes = new byte[len];
			fis.read(bytes);
			//for (int i=0;i<bs.size();i++){
				//bytes[i] = bs.get(i);
			//}
			a.setNome("test");
			a.setMime("application/jpeg");
			a.setImage(bytes);
			
			int oid = db.insertObject(a);
			Allegati b = (Allegati)db.getObject(oid, "Allegati");
			if (b!=null){
			String fout = "/home/netlab/Documenti/logo.jpg";
			
			FileOutputStream fos = new FileOutputStream(new File(fout));
			fos.write(b.getImage());
			
			fos.close();
			}else{
				System.out.println("non trovato ");
			}
			*/
			String s = "456.4";

			Double d = (Double)Double.parseDouble(s);
			d=d*100/100;
			DecimalFormatSymbols symb = new DecimalFormatSymbols();
			symb.setDecimalSeparator('.');

			DecimalFormat df = new DecimalFormat();
			df.setDecimalFormatSymbols(symb);
			df.setMinimumFractionDigits(2);
			df.setMaximumFractionDigits(2);
			//df.setMaximumIntegerDigits(6);
			df.setGroupingUsed(false);

			System.out.println(d);
			System.out.println(df.format(d));
		}
		catch (Exception E){
			E.printStackTrace();
		}
		
	}

}
